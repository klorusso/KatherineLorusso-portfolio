---
title: "Data Analysis Introduction Exercise"
---
```{r}
library(dslabs)
library(tidyverse)
```

```{r}
#help(gapminder)
str(gapminder)
#The str function was used to view the observations and variables in the dataset. 
summary(gapminder)
#The summary function was used to view the quartile values of each variable and how many 
# countries are in each region. 
class(gapminder)
#The class function was used to view the class of the data set, and it is data frame. 
```

```{r}
africadata <- gapminder %>%
    filter(continent=="Africa")
#I first loaded in the gapminder dataset and used the filter function to select rows of
# countries on the Africa continent and named the variable africadata. 
str(africadata)
summary(africadata)
#The str and summary functions were used to view the number of observations in the 
# dataset, which is 2907. 
```

```{r}
africadata_IM_LE <- africadata %>%
    select(c("infant_mortality","life_expectancy"))
#I took the africadata data set I created and selected the columns infant mortality 
# and life expectancy and named it africadata_IM_LE.
str(africadata_IM_LE)
summary(africadata_IM_LE)
#The str and summary functions were used to view the new dataset and view the two 
# variables (infant mortality and life expectancy) with 2907 observations. The median
# infant mortality is 93.40 and the median life expectancy is 53.98. 
```

```{r}
africadata_POP_LE <- africadata %>%
    select(c("population","life_expectancy"))
#I took the africadata data set I created and selected the columns population and 
# life expectancy and named it africadata_POP_LE.
str(africadata_POP_LE)
summary(africadata_POP_LE)
#The str and summary functions were used to view the new dataset and view the two 
# variables (population and life expectancy) and 2907 observations. The median 
# population is 5,570,982 and median life expectancy of 53.98. 
```

```{r}
ggplot(africadata_IM_LE, aes(infant_mortality, life_expectancy)) + 
    geom_point()
#I used the ggplot function and set infant mortality on the x axis and life expectancy 
# on the y axis from the africadata_IM_LE data frame. I also added the geom_point
# function to create a scatterplot. There is a negative relationship between life 
# expectancy and infant mortality. 
```

```{r}
ggplot(africadata_POP_LE, aes(population, life_expectancy)) + 
    geom_point() + scale_x_log10()
#I used the ggplot function and set population on the x axis and life expectancy 
# on the y axis from the africadata_POP_LE data frame. I also added the geom_point 
# function to create a scatterplot. There is a positive relationship between 
# population and infant mortality. 
```

```{r}
africadata2000 <- africadata %>% 
     filter(year=="2000")
str(africadata2000)
summary(africadata2000)
#I piped in the africadata dataset and used the filter function to only have the 
# year 2000. 
```

```{r}
ggplot(africadata2000, aes(infant_mortality, life_expectancy)) + 
    geom_point()
#I used the ggplot function with geom_point to create a scatterplot with 
# infant mortality on the x axis and life expectancy on the y axis using the 
# africadata200 dataset. There is a negative relationship between infant morality 
# and life expectancy. 
ggplot(africadata2000, aes(population, life_expectancy)) + 
    geom_point() + scale_x_log10()
#I used the ggplot function with geom_point to create a scatterplot with 
# population on the x axis and life expectancy on the y axis using the 
# africadata200 dataset. I also set the x axis on a log scale. There is a negative
# relationship between infant mortality and life expectancy. 
```

```{r}
fit1 <- lm(life_expectancy~infant_mortality, data=africadata2000)
summary(fit1)
#I used the lm function and set life expectancy as the outcome and infant 
# mortality as the predictor using the africadata2000 dataset. The results are 
# highly significant, and the negative slope indicates there is a negative 
# relationship between life expectancy and infant mortality. 
fit2 <- lm(life_expectancy~population, data=africadata2000)
summary(fit2)
#I used the lm function and set life expectancy as the outcome and population 
# as the predictor using the africadata2000 dataset. The results are highly 
# significant, and the positive slope indicates there is a positive relationship 
# between life expectancy and population. 
```

This section is contributed by Rebecca Basta.

```{r}
#The str functions is used to look at observations and variables in the dataset 
str(movielens)

#Get a summary of data
summary(movielens)

#Determine the type of object movielens is
#The class function is a data frame that allows us to look at a class of the dataset
class(movielens)
```

```{r}
#Using the movielens dataset, I've created a new dataframe that will only include comedy movies
comedy_data <- movielens[grepl("Comedy", movielens$genres), ]

#Check structure and summary of the comedy_data
str(comedy_data)
summary(comedy_data)
```

```{r}
#Create a dataframe with rating and year
rating_year <- comedy_data[, c("rating", "year")]

#Create a dataframe with rating and userId
rating_user <- comedy_data[, c("rating", "userId")]

#Get the structure and summary
str(rating_year)
summary(rating_year)

str(rating_user)
summary(rating_user)
```

This analysis looks at movies using the movielens dataset on R. The data is first subset to include all movies. Then I created a dataframe to only look at comedy movies, which was used to create two smaller datasets to look at rating with the year of release and rating with user ID. 

```{r}
# Plot rating vs year
#Using the plot function to make the plot
plot(
    #Using the movie release year column and makes them the x-axis values
  rating_year$year,
  #Using the rating column and makes them the y-axis values
  rating_year$rating,
  #labels the x-axis movie relase year and the y-axis rating
  xlab = "Movie Release Year",
  ylab = "Rating",
  #Makes the title of the plot movie rating vs release year for comedy
  main = "Movie Rating vs Release Year for Comedy",
  pch = 16
)

# Plot rating vs user ID
#Using the plot function to make the plot
plot(
    #Using the user ID column and makes them the x-axis values
  rating_user$userId,
  #Using the rating column and makes them the y-axis values
  rating_user$rating,
  #labels the x-axis user ID and the y-axis rating
  xlab = "User ID",
  ylab = "Rating",
   #Makes the title of the plot movie rating vs user ID for comedy
  main = "Movie Rating vs User ID for Comedy",
  pch = 16
)
```

The first plot shows that there is no positve or negative relationship between movie rating and the year of release. The second plot shows little to no realtionship between user ID and movie rating. 

```{r}
#Models rating as a function of year
#lm is used to fit linear models
lm_year <- lm(rating ~ year, data = rating_year)

#Models rating as a function of user ID
lm_user <- lm(rating ~ userId, data = rating_user)

#Prints out results for both models
summary(lm_year)
summary(lm_user)
```

The relationship between year of release and rating are not significant, which can be indicated by the very small slope. The relationship between movie rating and user ID is not significant; this can also be shown by the slope.